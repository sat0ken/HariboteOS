## 0日目 開発を始める前に

- [x] はじめに
- [x] OSってなんだろう？
- [x] OSの作り方のいろいろ
- [x] 無知なら無知でいいじゃないか
- [x] OSを作るにはどうしたらいいの？
- [x] OSを作るときの苦労
- [x] １章以降を読むにあたって
- [x] 今後の話の流れ

- ソースを書く→Cコンパイラでコンパイル→イメージファイルを作る→ディスクに書き込む=OSがインストールされたディスクを作る  
　OSを作る=自動起動するOSが入ったディスクを作る
- (語りかけてくる感じが読みづらくてイラっとする)
- 自分が使っている言語がどういう機械語に翻訳されているか多少理解していないと、その言語でOSは作れない=せやね
- ソースがかっこよくても自分の期待する機械語になってくれないなら意味がない←草  
  OS屋にとってソースなんて機械語を得るための手段であって目的ではない←かっけぇ...


## 1日目 PCの仕組みからアセンブラ入門まで

- [x] とにかくやるのだぁ

ddコマンドで`helloos.img`ファイルを作成
```
$ dd if=/dev/zero of=helloos.img bs=1474560 count=1
```

vimのバイナリモードで作成したファイルを開き編集

`:%!xxd` →`:%!xxd -r`

qemuで起動する

```
$ qemu-system-i386 -fda helloos.img
```
popupで画面が出てhello worldが表示される

- [x] 結局何をやったのだろうか？

CPUには計算命令が備わっているが、電気信号じゃないと理解できない
電気信号に対してこの命令がきたら、その電気信号を出すように回路が組まれているだけ
0/1の信号を処理するだけ
コンパイルして機械語になったプログラムもCPUには電気信号で0/1の固まりとして送られる


- [x] アセンブラ初体験
- [x] もうちょっと書き直してみる

nasmアセンブラを書く

`sudo apt install nasm`で入れる
DB命令 = data byte, ファイルの内容を1byteだけ直接書く
RESB命令 = reserve byte, 指定したバイト数を確保して0x00で埋める

コンパイルする

```
$ nasm helloos1.nas -o helloos_from_nas.img
```

DW命令 = data word, 16bitなので2byte書き込み
DD命令 = data double word, 32bitなので4byte書き込み